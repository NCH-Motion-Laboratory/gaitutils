# -*- coding: utf-8 -*-




gaitutils TODO



test:
    automark
    all plots
              

-(consistency) plot ylimits needs fixing

-exceptions policy

-layouts should go into config or separate layouts file

-unnormalized model plotting ok?

-validate (against gaitplotter & Nexus)

-small discrepancies in c3d/Nexus cycles?
    -nexus returns smaller frame indices (sometimes)

-pip install? (eventually)








Nexus / c3d fplate API:


coordinate systems:

-Nexus GetDeviceChannel output does not seem to match Nexus displayed forceplate axes (???)

-Nexus plate->world rot. matrix rotates plate axes by 270 (does not match display)

-transforming force, cop or moment local -> global by the matrix matches Nexus shown values

-output of GetDeviceChannelGlobal matches Nexus shown (global) values

                                                    
-c3d rot. matrix differs from Nexus
                                                      
-c3d local cop data matches Nexus displayed forceplate axes (but NOT Nexus GetDeviceChannel)

-c3d transformed cop matches Nexus data

-c3d transformed force, moment are -1 times Nexus global data (???)



                                 

                                                      
                                                   







-forceplate z axis is down (positive force towards ground)
-coord system is right-handed

-c3d plate boundaries may be wrong? (assumes AMTI plate dimensions)
    -NVUG2017 example data ok but check others vs. Nexus
http://biomechanical-toolkit.github.io/docs/API/classbtk_1_1_a_m_t_i_force_platform_file_i_o.html

-create transformation matrix + translation vector from plate boundaries:
https://www.c3d.org/HTML/default.htm?turl=corners.htm
